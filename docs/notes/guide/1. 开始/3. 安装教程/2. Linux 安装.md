---
title: Linux 安装
createTime: 2025-03-25 15:50:00
permalink: /guide/linuxins/
---

## 检查基本环境

推荐使用 Ubuntu 24.04 LTS 版本.

### Python

==使用 Python3.8 及以上的版本。==

### 其它基本工具

`curl sudo` 必须安装, 其它工具的安装可以跳过.

::: code-tabs
@tab Debian/Ubuntu
```shell
sudo apt-get update -y -qq && sudo apt-get -y -qq install curl sudo
```
@tab RPM/CentOS
```shell
sudo dnf install -y epel-release && sudo dnf install --allowerasing -y curl sudo
```
:::


## 安装 NcatBot

项目已经发布到 PYPI, 可以使用 pip 直接下载本项目.

==请不要从 GitHub 上下载 .zip 压缩包，如果下载过，请删掉所有相关的文件。==

执行该命令，在用户目录创建虚拟环境、激活环境并下载有关资源。

::: code-tabs
@tab pip
```shell
cd ~
python -m venv .ncatbot
. ~/.ncatbot/bin/activate
pip install ncatbot -U -i https://mirrors.aliyun.com/pypi/simple
```
:::


## 运行

### 准备 QQ 号

为了测试, 需要两个 QQ 号：

- **Bot**: 由 NcatBot 控制, 可以使用接口收发消息.
- **root**: 由你控制, 用于测试 Bot 的功能.

NcatBot 相当于一个电脑 QQ 客户端，因此在登陆前，你需要退出 Bot 在其它电脑客户端上的登录。

### 执行代码

以下代码是一个最小可运行示例，将它保存到 `main.py` 中。

先在手机上登录 Bot，然后执行 `python3 main.py` 运行。按照提示输入 Bot QQ 号，然后手机扫码登录。

接着使用 root 向 Bot 发送一条消息 "测试"，收到回复即正常运行。

::: code-tabs
@tab Python
```python
# ========= 导入必要模块 ==========
from ncatbot.core import BotClient, PrivateMessage

# ========== 创建 BotClient ==========
bot = BotClient()

# ========= 注册回调函数 ==========
@bot.private_event()
async def on_private_message(msg: PrivateMessage):
    if msg.raw_message == "测试":
        await bot.api.post_private_msg(msg.user_id, text="NcatBot 测试成功喵~")

# ========== 启动 BotClient==========
bot.run() # 一直执行，不会结束
```
:::

## 常见问题

查阅 [FAQ](../7.%20常见问题/1.%20安装时常见问题.md)
